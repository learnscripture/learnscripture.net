body {
    padding-top: @topbarHeight; /* make the container go all the way to the bottom of the topbar */
    background-attachment: fixed;
}
.container > footer p {
    text-align: center; /* center align it with the container */
}


/* downsize our container to make the content feel a bit tighter and more cohesive. NOTE: this removes two full columns from the grid, meaning you only go to 14 columns and not 16. */
@maxPageWidth: 860px;

nav.topbar-new {
    width: @maxPageWidth;
    margin: auto;
    .nav-item {
        > a {
            padding-left: 0.5em;
            padding-right: 0.5em;
            padding-top: 8px;
            padding-bottom: 9px;
        }
    }
}

footer {
    border: none;
    border-radius: 6px;
    padding-bottom: 5px;
}

.container {
    width: @maxPageWidth;
}

.maincontent {
    padding-top: @mainTopPadding;
    padding-bottom: @mainTopPadding;
    padding-left: @mainSidePadding;
    padding-right: @mainSidePadding;
}

/* The white background content wrapper */
.maincontent {
    background-color: #fff;
    .border-radius(0 0 6px 6px);
}

/* Page header tweaks */
.page-header {
    margin-bottom: 1.3em;
    border-bottom: 1px solid #ddd;
    h1 {
        line-height: 1.2;
        margin-bottom: 0;
    }
    padding: 20px @mainSidePadding 20px;
}

.page-header, .message-container {
    margin-left: -@mainSidePadding;
    margin-right: -@mainSidePadding;
    margin-bottom: @mainTopPadding;
    margin-top: -@mainTopPadding;
}

// Right column tweaks

#id-rightcolumn {
    h3 {
        margin-top: 18px;
        border-bottom: 1px solid #ddd;
        margin-bottom: 6px;

        &:first-child {
            margin-top: 9px;
        }
    }
}

// Menu


.dropdown-menu-right {
    right: 0px;
    left: auto;
}


////////////  Response to smaller screen /////////////

/* Handhelds and narrow browsers */

@media screen and (max-width: @narrowWidthBreak1) {

    /* fluid width */
    .container, nav.topbar-new {
        width: auto;
    }
    /* no columns */
    #id-leftcolumn {
        width: auto;
        float: none;
    }
    #id-rightcolumn {
        width: auto;
        float: none;
        border-top: 1px solid #eee;
        padding-top: 5px;
        margin-top: 5px;
    }
    .row > [class*="span"] {
        display: block;
        margin: auto;
    }
    .row {
        margin: auto;
        .span7 {
            width: 100%;
        }
    }

    // Fix some hacks we added for rightcolumn
    #id-rightcolumn h3:first-child {
        margin-top: 0px;
    }


    /* squeeze spacings */
    .maincontent {
        padding-left: @smallerMainSidePadding;
        padding-right: @smallerMainSidePadding;
    }

    .page-header {
        padding-left: @smallerMainSidePadding;
        padding-right: @smallerMainSidePadding;
    }

    .page-header, .message-container {
        margin-left: -@smallerMainSidePadding;
        margin-right: -@smallerMainSidePadding;
    }


    .two-column-only {
        display: none;
    }

    span.one-column-only {
        display:inline;
    }
    div.one-column-only {
        display:block;
    }

    .maincontent {
        border-radius: 0px;
    }
}


// If there is not much room vertical we squeeze paddings

@media screen and (max-height: @shortHeightBreak1) {
    /* squeeze paddings */

    .maincontent {
        padding-top: @smallerMainTopPadding;
        padding-bottom: @smallerMainTopPadding;
    }

    .page-header {
        padding-top: 5px;
        padding-bottom: 5px;
    }

    .page-header, .message-container {
        margin-bottom: @smallerMainTopPadding;
        margin-top: -@smallerMainTopPadding;
    }

    /* no fixed top bar */
    .topbar-wrapper {
        position: static;
    }

    body {
        padding-top: 0px;
    }

}


// Squeeze the primary nav if horizontal space is limited
@media screen and (max-width: 600px) {
    .primary-nav .nav-item:not(.spacer):nth-child(4) {
        display: none;
    }
}

@media screen and (max-width: 550px) {
    .primary-nav .nav-item:not(.spacer):nth-child(3) {
        display: none;
    }
}

@media screen and (max-width: 450px) {
    .primary-nav .nav-item:not(.spacer):nth-child(2) {
        display: none;
    }
}

@media screen and (max-width: 400px) {
    .donation-drive.notice .donation-drive-stats .chart-container {
        width: 75px;
    }
}

@media screen and (max-width: @narrowWidthBreak2) {
    // Less padding on table
    table {
        td, th {
            padding: 5px 6px 4px;
        }
    }
}
