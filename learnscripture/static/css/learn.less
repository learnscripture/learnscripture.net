// Once the new learn_beta page is finished and out of beta, it will make sense
// to fold this file into base.less. However, to do so we have to tackle
// base_layout which is incompatible with the new learn page e.g. stuff
// on 'body', probably needs to gain a class

// 3rd party
@import "../bootstrap/lib/bootstrap.less";

// Common things
@import "icons.less";
@import "utils.less";
@import "themes.less";
@import "common.less";
@import "common_layout.less";
@import "sidepanel.less";


// learn page specific
body.learn-page {
    @topbarHeight: 24px;
    nav {
        // We need a fixed height, because this element has 'position: fixed'
        // and we need to allow for that.
        height: @topbarHeight;

        // reset list items
        > ul, > ul > li {
            list-style-type: none;
            margin: 0px;
            padding: 0px;
        }
        > ul {
            display: flex;
            flex-direction: row;
            li {
                padding: 1px 3px;
            }
            > li:last-child {
                flex: 1;
                text-align: right;
            }
        }
    }
    nav + div {
        margin-top: @topbarHeight;
    }
    #id-loading-full {
        color: #888;
        text-align: center;
        font-size: 48px;
        vertical-align: middle;
        line-height: calc(~"100vh - " @topbarHeight);
        animation: fadeIn 1s infinite alternate;
    }

    #id-content-wrapper {
        padding-left: 0.5em;
        padding-right: 0.5em;
        margin-left: auto;
        margin-right: auto;
        max-width: 860px;
    }


    // Words
    #id-verse-wrapper {
        border-radius: 5px;
        padding: 10px;
        background-color: #f0f0f0;
    }

    #id-copyright-notice {
        font-size: 0.9em;
        text-align: right;
        border-top: 1px solid #ccc;
        padding-top: .2em;
        margin-top: .2em;
    }

    .current-verse, .previous-verse, #id-typing, #id-onscreen-test-options {
        font-size: 20px;
        line-height: 1;
    }

    #id-onscreen-not-available {
        font-size: 20px;
    }
    .previous-verse {
        display: table-cell;
        vertical-align: bottom;
        color: #909090;
    }

    .previous-verse-wrapper {
        border-bottom: 1px solid #c0c0c0;
        margin-bottom: 0.5em;
    }
    .normalWordBorder() {
        border-color: #C0C0C0;
        border-top-color: #D8D8D8;
        border-bottom-color: #9A9A9A;
    }

    @word-margin-top: 3px;
    @word-margin-left: 1px;

    .word {
        border: 2px solid;
        border-radius: 3px;
        padding: 4px 4px;
        margin: @word-margin-top @word-margin-left;
        .gradientBar(#e8e8e8, #C0C0C0);
        .normalWordBorder();
        cursor: pointer;

        &.correct {
            border-color: #00D000;
        }

        &.incorrect {
            border-color: red;
        }

        &.partially-correct {
            border-color: #D0B800;
        }
    }
    #id-typing {
        color: black;
        // These values are important for matching size of .word.
        // Left padding matches to get the word to line up,
        // the others don't to give more room for typing.
        // See also setup_learn.js
        padding: 0 0 0 4px;
        margin: 0;
        border: 2px solid; // same as .word.
        position: absolute;
        display: none; // initially hide
        &.incorrect {
            border-color: red;
        }
    }

    .hidden {
        opacity: 0;
    }
    .colon {
        margin-left: 3px;
    }
    .testedword {
        margin: 5px 1px;
    }
    .wordend, .wordstart, .word, .testedword {
        display: inline-block;
    }

    // hide the clues that show word size
    .hide-word-boundaries .word {
        border-left: 0px;
        border-right: 0px;
        padding-left: 8px;
        padding-right: 8px;
        margin-left: -5px;
        margin-right: -5px;
        border-radius: 0px;
        cursor: default;

        &.current-word {
            border-left: 2px solid blue;
        }
    }


    #id-hint-btn, #id-help-btn, #id-more-practice-btn, .word {
        // For Internet Explorer, remove 300ms delays on "click" event when touch
        // actions are used.
        touch-action: none;
    }

    h1, h2, h3 {
        line-height: 1.4;
        padding-top: 5px;
    }

}

@keyframes fadeIn {
    from { opacity: 0.25; }
}
