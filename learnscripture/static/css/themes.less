
/* Themes */

.dotheme(@topColor1, @topColor2, @topLinkColor, @btnColor1, @btnColor2, @bgColor1,
         @linkColor, @footerColor, @themeFont) {

    @linkColorHover: darken(@linkColor, 15);
    @bgBorderColor: darken(@bgColor1, 10%);

    a {
        color: @linkColor;
        &:hover {
            color: @linkColorHover;
        }
    }

    footer, .footer {
        color: @footerColor;
        a {
            text-decoration: underline;
            color: @footerColor;
            &:hover {
                color: @footerColor;
            }
        }
    }

    .topbar,
    .nav {
        background-color: @topColor1;
        color: @topLinkColor;
        a {
            text-decoration: none;
            color: @topLinkColor;
            text-shadow: 0 -1px 0 rgba(0,0,0,.25);
            &:hover {
                color: white;
            }
        }

        .dropdown {
            &.open .dropdown-toggle {
                background: @topColor2;
            }
            .dropdown-menu {
                background-color: @topColor2;
                a:hover {
                    background: @topColor1;
                }
                .active a {
                    color: @white;
                }
            }
        }
    }

    .btn {
        // Primary Button Type
        color: #333;
        &:hover {
            color: #333;
        }
        &.primary {
            color: @white;
            .gradientBar(@btnColor1, @btnColor2)
        }

        // These have been pulled out of patterns.less because some of
        // them need to appear after the .btn color definitions above.
        // because they have equal specificity

        // Active and Disabled states
        &.active,
        &:active {
            @shadow: inset 0 2px 4px rgba(0,0,0,.25), 0 1px 2px rgba(0,0,0,.05);
            .box-shadow(@shadow);
        }
        &.disabled {
            cursor: default;
            background-image: none;
            .reset-filter();
            .opacity(65);
            .box-shadow(none);
        }
        &[disabled] {
            // disabled pseudo can't be included with .disabled
            // def because IE8 and below will drop it ;_;
            cursor: default;
            background-image: none;
            .reset-filter();
            .opacity(65);
            .box-shadow(none);
        }


    }

    @tabborder: darken(@bgColor1, 20%);
    @tabhighlight: @bgColor1;

    .tabs {
        border-color: @tabborder;
        > li {
            > a {
                &:hover {
                    background-color: @tabhighlight;
                    border-color: @tabhighlight @tabhighlight @tabborder;
                }
            }
        }
        // Active state, and it's :hover to override normal :hover
        .active > a,
        .active > a:hover {
            color: @gray;
            background-color: @white;
            border: 1px solid @tabborder;
            border-bottom-color: transparent;
            cursor: default;
        }
    }


    .pills {

        a {
            border: 1px solid lighten(@linkColor, 20%);
        }

        a:hover {
            color: @white;
            background-color: @linkColorHover;
            border: 1px solid @linkColorHover;
        }
        .active a {
            color: @white;
            background-color: @linkColor;
            border: 1px solid @linkColor;
        }
    }

    .verseset, .actionset, .activityitem, .groupcomments, .is-following {
        background-color: @bgColor1;
        border-color: @bgBorderColor;
        hr {
            border-bottom-color: @bgBorderColor;
        }
    }

    .activitystream .activityitem.following {
        border-top-color: @linkColor;
        border-bottom-color: @linkColor;
    }



    .activityitem .commentindicator,
    .commentblock,
    .relatedaddcomment,
    .is-not-following {
        border-color: @bgBorderColor;
    }

    .page-header {
        background-color: @bgColor1;
        border-color: @bgBorderColor;
    }

    .action-log {
        background-color: @btnColor2;
        .gradientBar(@btnColor2, @btnColor1);
        border: 2px solid #888;
        color: @white;
    }


    h1, h2, h3, h4, h5, .word, .testedword, #id-typing {
        font-family: ~"@{themeFont}";
    }

    #id-onscreen-test-container {
        background-color: @bgColor1;
        border-color: darken(@bgColor1, 20%);
    }

    .streak {
        color: @linkColor;
        font-family: ~"@{themeFont}";
    }

    #id-loading-full {
        font-family: ~"@{themeFont}";
    }
}

///////////// THEMES ////////////
// CALM

body[data-theme=calm] {
    .dotheme(darken(@blue, 10%), lighten(@blueDark, 10%), @grayLight, @blue, @blueDark, #f5f5f5, #0069d6, white,
             '"Cuprum", "Trebuchet MS", "Helvetica Neue", Helvetica, Arial, sans-serif');
}

body.base-page[data-theme=calm] {
    background-color: #1A1A1A;
    background-image: url(/static/img/bg.jpg);
}

body[data-theme=bubblegum] {
    .dotheme(#f56c26, #f00901, black, #cc3a92,  #a12667, #ffe0f1, #f00901, black,
             '"Short Stack", "Helvetica Neue", Helvetica, Arial, sans-serif');

}

body.base-page[data-theme=bubblegum] {
    @bgcolor: #e0cfb1;
    background-color: @bgcolor;
    footer, .footer {
        background-color: @bgcolor;
        border: 1px solid darken(@bgcolor, 10%);
    }
    background-image: url(/static/img/bubblegum_background.jpg);
}


body[data-theme=bubblegum2] {
    .dotheme(lighten(#CD0074, 5%), lighten(#85004B, 5%), #e0e0e0, #679B00, darken(#679B00, 20%), #C9F76F, #CD0074, black,
             '"Short Stack", "Helvetica Neue", Helvetica, Arial, sans-serif');
}

body.base-page[data-theme=bubblegum2] {
    @bgcolor:  #a294a5;
    background-color: @bgcolor;
    footer, .footer {
        background-color: @bgcolor;
        border: 1px solid darken(@bgcolor, 10%);
    }
    background-image: url(/static/img/bubblegum2_background.jpg);
}


body[data-theme=space] {
    .dotheme(lighten(#0a0b35, 5%), black, @grayLight, lighten(#090a31, 10%), #090a31, lighten(#0069d6, 35%), darken(#0069d6, 5%), white,
             '"Prosto One", "Helvetica Neue", Helvetica, Arial, sans-serif');
    .verseset, .actionset {
        background-color: black;
        background-image: url(/static/img/space_bg_2.jpg);
        background-attachment: fixed;
        color: #dbebec;
        border-color: darken(#bebfdc, 10%);
        hr {
            border-bottom-color: darken(#bebfdc, 10%);
        }
        h2, h3, h4 {
            color: #f0f0f0;
        }
        a:link, a:visited {
            color:  lighten(#0069b6, 15);
            &:hover {
                color: lighten(#0069b6, 5);
            }
        }
    }
}

body.base-page[data-theme=space] {
    background-color: black;
    background-image: url(/static/img/space_bg.jpg);
}

// Theme specific content

.theme-calm-only,
.theme-bubblegum-only,
.theme-bubblegum2-only,
.theme-space-only {
    display:none;
}

body[data-theme=calm] span.theme-calm-only,
body[data-theme=bubblegum] span.theme-bubblegum-only,
body[data-theme=bubblegum2] span.theme-bubblegum2-only,
body[data-theme=space] span.theme-space-only {
    display:inline;
}
