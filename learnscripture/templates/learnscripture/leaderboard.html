{% extends "base_twocol.html" %}

{% load url from future %}

{% block title %}
Leaderboard
{% endblock %}

{% block page_title %}
Leaderboard
{% endblock %}

{% block leftcolumn %}

<ul class="pills">
  <li {% if not thisweek %}
      class="active"
      {% endif %}
      ><a href=".">All time</a>
  </li>
  <li {% if thisweek %}
      class="active"
      {% endif %}
      ><a href="?thisweek">This week</a>
  </li>
</ul>

{% if accounts %}

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Points</th>
      <th>Rank</th>
    </tr>
  </thead>
  <tbody>
    {% for account in accounts %}
    <tr>
      <td><a href="{% url 'user_stats' account.username %}">{{ account.username }}</a></td>
      <td>{{ account.points }}</td>
      <td>{{ account.rank }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}

  <p>No more data found!</p>

{% endif %}

<div class="pagination">
<ul>
  {% if page_num == 1 %}
  <li class="disabled prev"><a>Previous</a></li>
  {% else %}
  <li class="prev"><a href="?p={{ previous_page_num }}">Previous</a></li>
  {% endif %}
  {% if accounts and accounts|length == PAGE_SIZE %}
  <li class="next{% if not accounts %} disabled{% endif %}"><a href="?p={{ next_page_num }}">Next</a></li>
  {% else %}
  <li class="disabled next"><a>Next</a></li>
  {% endif %}
</div>
{% endblock %}
