{% extends "base.html" %}

{% load form_rendering %}

{% block body_extra_class %}choose-page{% endblock %}

{% block content %}

  <div class="accordion-container">
    <section id="id-choose-verseset" class="accordion-item {% if active_section == "verseset" %}expanded{% endif %}">
      <h2 class="accordion-heading" >Choose a verse set</h2>
      <div class="accordion-body">
        <p>Browse or search the verse sets below:</p>

        <form action="." method="GET" data-pjax>
          <div class="clearfix">
            <label for="id_query">Search:</label>
            <div class="input">
              {{ verseset_search_form.query }}
              <input type="submit" class="btn primary" value="Search" id="id-search-btn" />
            </div>
          </div>

          {{ verseset_search_form.order|render_field }}

        </form>

        <div id="id-choose-verseset-results">
          {% include "learnscripture/choose_verseset_inc.html" %}
        </div>

      </div>

    </section>
    <section id="id-choose-individual" class="accordion-item {% if active_section == "individual" %}expanded{% endif %}">
      <h2 class="accordion-heading">Choose individual verses</h2>
      <div class="accordion-body">
        <p>Choose a verse (or a few verses). For long passages, you should
          <a href="{% url 'create_passage_set' %}">create a 'passage' verse set</a>.
        </p>

        {% include "learnscripture/quick_find_controls.html" %}

        <script id="id_individual_choose_result_template" type="text/x-jsrender">
          {# template for .quickfind_search_results #}
          <div class="actionset">
            <div class="addclearfix">
              <form class="individual-choose" action="" method="POST">
                {% csrf_token %}
                <input type="hidden" name="localized_reference" value="[[>localized_reference]]">
                <input type="hidden" name="version_slug" value="[[>version_slug]]">
                <input type="submit" name="learn_now" class="btn primary needs-preferences" value="{% if request.identity.account %}Learn now{% else %}Learn{% endif %}">
                {% if request.identity.account %}
                  <br/>
                  <input type="submit" name="add_to_queue" class="btn needs-preferences" value="Add to queue">
                {% endif %}
              </form>
              <div class="verselist">
                [[for verses itemVar="~verse"]]
                <div class="verse">
                  <span class="versenumber">[[>~verse.localized_reference]]</span> [[:~verse.html_text]]
                </div>
                [[/for]]
              </div>
            </div>
          </div>
        </script>
      </div>
    </div>
  </section>

  <p>Or: <a href="{% url 'create_set_menu' %}">create your own verse set</a>, or <a href="{% url 'catechisms' %}">learn a catechism</a>)</p>

{% endblock %}
