{% extends "base.html" %}

{% load form_rendering %}

{% block body_extra_class %}choose-page{% endblock %}

{% block content %}

  <div class="accordion-container">
    <section id="id-choose-verseset" class="accordion-item {% if active_section == "verseset" %}expanded{% endif %}">
      <h2 class="accordion-heading" >Choose a verse set</h2>
      <div class="accordion-body">
        <p>Browse or search the verse sets below:</p>

        <form action="." method="GET" data-pjax>
          <div class="clearfix">
            <label for="id_query">Search:</label>
            <div class="input">
              {{ verseset_search_form.query }}
              <input type="submit" class="btn primary" value="Search" id="id-search-btn" />
            </div>
          </div>

          {{ verseset_search_form.set_type|render_field }}
          {{ verseset_search_form.order|render_field }}

        </form>

        <div id="id-choose-verseset-results">
          {% include "learnscripture/choose_verseset_inc.html" %}
        </div>

      </div>

    </section>
    <section id="id-choose-individual" class="accordion-item {% if active_section == "individual" %}expanded{% endif %}">
      <h2 class="accordion-heading">Choose individual verses</h2>
      <div class="accordion-body">
        <p>Choose a verse (or a few verses). For long passages, you should
          <a href="{% url 'create_passage_set' %}">create a 'passage' verse set</a>.
        </p>

        {% include "learnscripture/quick_find_controls.html" %}

        <script id="id_individual_choose_result_template" type="text/x-jsrender">
          {# template for .quickfind_search_results #}
          <div class="actionset">
            <div class="addclearfix">
              <form class="individual-choose" action="" method="POST">
                {% csrf_token %}
                <input type="hidden" name="localized_reference" value="[[>localized_reference]]">
                <input type="hidden" name="version_slug" value="[[>version_slug]]">
                <input type="submit" name="learn_now" class="btn primary needs-preferences" value="{% if request.identity.account %}Learn now{% else %}Learn{% endif %}">
                {% if request.identity.account %}
                  <br/>
                  <input type="submit" name="add_to_queue" class="btn needs-preferences" value="Add to queue">
                {% endif %}
              </form>
              <div class="verselist">
                [[for verses itemVar="~verse"]]
                <div class="verse">
                  <span class="versenumber">[[>~verse.localized_reference]]</span> [[:~verse.html_text]]
                </div>
                [[/for]]
              </div>
            </div>
          </div>
        </script>
      </div>
    </section>

    <section id="id-choose-create-set-menu" class="accordion-item {% if active_section == "create-set-menu" %}expanded{% endif %}">
      <h2 class="accordion-heading">Create a verse set</h2>
      <div class="accordion-body">
        <div class="actionset">
          <form>
            <p><a class="btn primary" href="{% url 'create_selection_set' %}">Create selection set</a></p>
          </form>

          <h3>Selection set</h3>
          <p>Selection verse sets are verses on a certain topic, or designed for a group
            of people to learn together.</p>
        </div>

        <div class="actionset">
          <form>
            <p><a class="btn primary" href="{% url 'create_passage_set' %}">Create passage set</a></p>
          </form>

          <h3>Passage set</h3>
          <p>Passage verse sets are for a continuous set of verses, like a Psalm or a
            chapter or part of a chapter.</p>

          <p>When you are learning a passage set, you're always presented with the verses
            in order, and there are lots of tweaks to help you learn it as a passage rather
            than just a set of verses.</p>
        </div>
      </div>
    </section>
  </div>

  <p>Or <a href="{% url 'catechisms' %}">learn a catechism</a>.</p>

{% endblock %}
