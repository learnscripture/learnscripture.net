{% extends "base_twocol.html" %}

{% load url from future %}

{% block leftcolumn %}

<h2>User information</h2>


<table class="bordered-table">
  <tbody>
    <tr>
      <th>Name</th>
      <td>{{ account.first_name }} {{ account.last_name }}</td>
    </tr>
    <tr>
      <th>Member since</th>
      <td>{{ account.date_joined }}</td>
    </tr>
    <tr>
      <th>Subscription type</th>
      <td>{{ account.get_subscription_display }}</td>
    </tr>
  </tbody>
</table>

<h2>Stats</h2>

{% if account.total_score and account.scoring_enabled %}

<table class="bordered-table">
  <thead>
    <tr>
      <th></th>
      <th>All time</th>
      <th>This week</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Rank</th>
      <td>{{ account.rank_all_time }}</td>
      <td>{{ account.rank_this_week }}</td>
    </tr>
    <tr>
      <th>Points</th>
      <td>{{ account.points_all_time }}</td>
      <td>{{ account.points_this_week }}</td>
    </tr>
    <tr>
      <th>Verses started</th>
      <td>{{ verses_started_all_time }}</td>
      <td>{{ verses_started_this_week }}</td>
    </tr>
    <tr>
      <th>Verses fully learnt</th>
      <td>{{ verses_finished_all_time }}</td>
      <td>{{ verses_finished_this_week }}</td>
    </tr>
    <tr>
      <th>Verse sets created</th>
      <td>{{ verse_sets_created_all_time }}</td>
      <td>{{ verse_sets_created_this_week }}</td>
    </tr>

  </tbody>
</table>

{% elif account.scoring_enabled %}

<p>No points earned yet.</p>

{% else %}

<p>Stats disabled for free accounts.
{% if request.identity.account.username == account.username %}
  <a href="{% url 'subscribe' %}">Subscribe to enable.</a>
  {% endif %}
</p>

{% endif %}

<p><a href="{% url 'leaderboard' %}" class="icon-leaderboard">See all rankings</a></p>

{% if request.identity.account.username == account.username %}
<p><a href="{% url 'user_verses' %}" class="icon-progress">See detailed progress on verse learning</a></p>
{% endif %}

{% endblock %}
